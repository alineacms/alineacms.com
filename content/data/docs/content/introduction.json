{
  "id": "28Ng6ZnpyhafrKdGMOO7BUUKP4S",
  "type": "Doc",
  "root": "data",
  "index": "a0",
  "title": "Introduction",
  "parents": [
    "docs",
    "28Ng5RzmZ2fHUVlVbAEv1l1oUUS"
  ],
  "blocks": [
    {
      "id": "28Ng8SpEKCBCaddO8Zeiy3CSUHl",
      "index": "a0",
      "type": "TextBlock",
      "text": [
        {
          "type": "heading",
          "level": 1,
          "content": [
            {
              "type": "text",
              "text": "Introduction"
            }
          ]
        },
        {
          "type": "heading",
          "level": 2,
          "content": [
            {
              "type": "text",
              "text": "Structure"
            }
          ]
        },
        {
          "type": "paragraph",
          "content": [
            {
              "type": "text",
              "text": "Alinea generates files on your file system in two places. First content will be placed in a directory as `json` files. Second a library is generated inside the `.alinea` folder which allows us to interact with the content in JavaScript."
            }
          ]
        },
        {
          "id": "28hnf59Rd5Gbite3NVvsvobRTZz",
          "type": "CodeBlock",
          "code": "// Published content is stored in json files \n// inside the content directory\ncontent\n├ data // data root\n│ ├ index.json\n│ ├ blog.json\n│ ╰ blog\n│   ├ blog-post.json\n│   ╰ another-blog-post.json\n╰ media // media root\n  ├ image.png.json\n  ╰ file.pdf.json\n\n// The alinea directory exports a javascript library\n// per workspace\n.alinea\n╰ web",
          "compact": true
        },
        {
          "type": "heading",
          "level": 2,
          "content": [
            {
              "type": "text",
              "text": "The .alinea package"
            }
          ]
        },
        {
          "type": "paragraph",
          "content": [
            {
              "type": "text",
              "text": "For each workspace a few exports can be found under `.alinea/$workspace`. In the example above we can query pages of the web workspace by importing its `Pages` instance."
            }
          ]
        },
        {
          "id": "28hwTlSifcft8pjRXYWoRGYMMMA",
          "type": "CodeBlock",
          "code": "import {pages} from '.alinea/web/pages'\n\nconst blog = await pages.findFirst(page => page.type.is('BlogOverview'))\nconst posts = await blog.tree.children()"
        },
        {
          "type": "heading",
          "level": 3,
          "content": [
            {
              "type": "text",
              "text": "Collections"
            }
          ]
        },
        {
          "type": "paragraph",
          "content": [
            {
              "type": "text",
              "text": "For each type defined in the workspace schema a `Collection` is exported. Collections are used to point at specific fields when querying."
            }
          ]
        },
        {
          "id": "28i0o6Hkw7J6px87T32tPA5vUNB",
          "type": "CodeBlock",
          "code": "import {pages} from '.alinea/web/pages'\nimport {Animal, Fruit} from '.alinea/web'\n\nconst page = await pages.findFirst(\n  Animal.age.greater(10)\n)\nconst pages = await pages.findMany(\n  Fruit.title.isIn(['apple', 'orange'])\n)"
        }
      ]
    }
  ]
}